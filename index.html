<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine ğŸ’–</title>
<style>
  body {
    margin: 0;
    height: 100vh;
    background: linear-gradient(to bottom, #ffd6e8, #ffeef5);
    font-family: Arial, sans-serif;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .container {
    text-align: center;
    width: 90%;
    max-width: 400px;
    z-index: 2;
  }

  h1 { color: #e60073; font-size: 1.7rem; }
  h2 { color: #ff1a75; }

  .buttons {
    position: relative;
    height: 160px;
    margin-top: 25px;
  }

  button {
    position: absolute;
    padding: 14px 26px;
    font-size: 1.1rem;
    border-radius: 12px;
    border: none;
    cursor: pointer;
  }

  #yes { background: #ff4d88; color: white; left: 50%; transform: translateX(-50%); top: 20px; }
  #no { background: #ccc; left: 50%; transform: translateX(-50%); top: 90px; }

  #musicToggle {
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 10px 20px;
    background: rgba(255, 77, 136, 0.8);
    color: white;
    border: none;
    border-radius: 20px;
    font-size: 1rem;
    cursor: pointer;
    z-index: 1000;
    transition: background 0.3s;
  }

  #musicToggle:hover {
    background: rgba(255, 77, 136, 1);
  }

  #loveMessage { display: none; margin-top: 20px; }
  #loveMessage h2 {
    animation: pulseGlow 2s ease-in-out infinite;
  }

  @keyframes pulseGlow {
    0%, 100% {
      text-shadow: 0 0 10px #ff4d88, 0 0 20px #ff4d88, 0 0 30px #ff1a75;
      transform: scale(1);
    }
    50% {
      text-shadow: 0 0 20px #ff4d88, 0 0 30px #ff4d88, 0 0 40px #ff1a75, 0 0 50px #ff1a75;
      transform: scale(1.05);
    }
  }

  video { width: 100%; max-width: 320px; border-radius: 15px; margin-top: 15px; }

  /* Reasons list */
  #reasonsList {
    margin-top: 30px;
    max-height: 300px;
    overflow-y: auto;
    padding: 0 10px 20px 10px;
    scrollbar-width: thin;
    scrollbar-color: #ff4d88 #ffeef5;
  }

  #reasonsList::-webkit-scrollbar {
    width: 8px;
  }

  #reasonsList::-webkit-scrollbar-track {
    background: #ffeef5;
    border-radius: 10px;
  }

  #reasonsList::-webkit-scrollbar-thumb {
    background: #ff4d88;
    border-radius: 10px;
  }

  .reason-item {
    background: rgba(255, 255, 255, 0.7);
    padding: 12px 15px;
    margin: 10px 0;
    border-radius: 10px;
    border-left: 4px solid #ff4d88;
    opacity: 0;
    transform: translateX(-30px);
    animation: slideIn 0.5s ease-out forwards;
  }

  .reason-item .number {
    color: #ff4d88;
    font-weight: bold;
    margin-right: 8px;
  }

  .reason-item .text {
    color: #333;
    font-size: 0.95rem;
  }

  @keyframes slideIn {
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  /* Hearts animation */
  .heart {
    position: absolute;
    bottom: -20px;
    color: #ff4d88;
    animation: floatUp 6s linear forwards;
    opacity: 0.7;
    pointer-events: none;
    z-index: 1;
  }

  @keyframes floatUp {
    from { transform: translateY(0); opacity: 1; }
    to { transform: translateY(-110vh); opacity: 0; }
  }

  /* Confetti animation */
  .confetti {
    position: fixed;
    width: 10px;
    height: 10px;
    z-index: 999;
    pointer-events: none;
    transition: all 0.1s ease-out;
  }

  @keyframes confettiSpin {
    0% {
      transform: rotate(0deg);
      opacity: 1;
    }
    100% {
      transform: rotate(720deg);
      opacity: 0;
    }
  }
</style>
</head>

<body>

<button id="musicToggle">ğŸ”‡ Music Off</button>

<div class="container">
  <h1>I love you Bhakti â¤ï¸<br>I love you so much baccha ğŸ’–</h1>
  <h2 id="question">Will you be my Valentine?</h2>

  <div class="buttons" id="buttons">
    <button id="yes">Yes ğŸ’–</button>
    <button id="no">Are you sure?? ğŸ˜</button>
  </div>

  <div id="loveMessage">
    <h2>I love you forever â¤ï¸</h2>
    <video id="loveVideo" controls muted playsinline autoplay preload="auto">
      <source src="love.mp4" type="video/mp4">
    </video>

    <div id="reasonsList"></div>
  </div>
</div>

<audio id="bgMusic" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const noBtn = document.getElementById("no");
  const yesBtn = document.getElementById("yes");
  const buttons = document.getElementById("buttons");
  const question = document.getElementById("question");
  const loveMessage = document.getElementById("loveMessage");
  const bgMusic = document.getElementById("bgMusic");
  const video = document.getElementById("loveVideo");
  const musicToggle = document.getElementById("musicToggle");
  const reasonsList = document.getElementById("reasonsList");

  let isMusicPlaying = false;

  // Reasons why I love you
  const reasons = [
    "Your smile lights up my entire day",
    "The way you laugh makes everything better",
    "You understand me like no one else does",
    "Your dedication inspire me",
    "You make me want to be a best person for you",
    "The way you care for me",
    "Your beautiful eyes that I could get lost in",
    "How you always know what I want to say",
    "The little things you do that show you care",
    "Your kisses and hugs",
    "How you make ordinary moments feel special",
    "The way you hold my hand and make me feel safe",
    "Your intelligence and the way you think about things",
    "How supportive you are of our dreams and goals",
    "Your cute quirks that make you uniquely you",
    "The way you brighten my every day",
    "How understanding you are with me",
    "The dreams we have together, big and small",
    "How you make me feel loved every single day",
    "Your beautiful heart and genuine soul",
    "The way you believe in us and our future together",
    "Simply everything about you, baccha ğŸ’–",
    ""
  ];

  // Animate reasons appearing one by one
  function showReasons() {
    reasons.forEach((reason, index) => {
      setTimeout(() => {
        const reasonItem = document.createElement("div");
        reasonItem.className = "reason-item";
        reasonItem.innerHTML = `
          <span class="number">${index + 1}.</span>
          <span class="text">${reason}</span>
        `;
        reasonItem.style.animationDelay = "0s";
        reasonsList.appendChild(reasonItem);

        // Auto-scroll to show new reason
        setTimeout(() => {
          if (index > 3) {
            reasonsList.scrollTop = reasonsList.scrollHeight;
          }
        }, 100);
      }, index * 3000); // 800ms delay between each reason
    });
  }

  // Music toggle button
  musicToggle.addEventListener("click", () => {
    if (isMusicPlaying) {
      bgMusic.pause();
      musicToggle.textContent = "ğŸ”‡ Music Off";
      isMusicPlaying = false;
    } else {
      bgMusic.play().catch(() => console.log("Music playback failed"));
      musicToggle.textContent = "ğŸ”Š Music On";
      isMusicPlaying = true;
    }
  });

  const texts = [
    "Are you sure?? ğŸ˜",
    "Think again ğŸ˜œ",
    "Nope ğŸ˜‚",
    "Nice try ğŸ˜ˆ",
    "Still no? ğŸ˜˜",
    "Come on now ğŸ’•",
    "Really? ğŸ¥º",
    "Please? ğŸ’–",
    "You know you want to ğŸ˜‰",
    "Don't be shy ğŸ˜Š",
    "I'm waiting ğŸ’—",
    "One more chance? ğŸŒ¹",
    "Pretty please? ğŸ¥°",
    "You'll regret it ğŸ˜‹",
    "Just say yes! ğŸ’"
  ];

  // "No" button moves (avoids overlapping with "Yes")
  function moveNo() {
    const rect = buttons.getBoundingClientRect();
    const yesRect = yesBtn.getBoundingClientRect();
    const buttonsRect = buttons.getBoundingClientRect();

    let newLeft, newTop;
    let attempts = 0;
    const maxAttempts = 20;

    do {
      newLeft = Math.random() * (rect.width - noBtn.offsetWidth);
      newTop = Math.random() * (rect.height - noBtn.offsetHeight);

      // Check if new position overlaps with Yes button
      const noLeft = buttonsRect.left + newLeft;
      const noRight = noLeft + noBtn.offsetWidth;
      const noTop = buttonsRect.top + newTop;
      const noBottom = noTop + noBtn.offsetHeight;

      const overlap = !(noRight < yesRect.left ||
                       noLeft > yesRect.right ||
                       noBottom < yesRect.top ||
                       noTop > yesRect.bottom);

      if (!overlap) break;
      attempts++;
    } while (attempts < maxAttempts);

    noBtn.style.left = newLeft + "px";
    noBtn.style.top = newTop + "px";
    noBtn.textContent = texts[Math.floor(Math.random() * texts.length)];
  }
  noBtn.addEventListener("mouseover", moveNo);
  noBtn.addEventListener("touchstart", moveNo);

  // "Yes" button click
  yesBtn.addEventListener("click", () => {
    buttons.style.display = "none";
    question.style.display = "none";
    loveMessage.style.display = "block";

    // Confetti explosion!
    createConfetti();

    // Show reasons list after video ends (31 seconds)
    setTimeout(() => {
      showReasons();
    }, 1000);

    // play music and video safely
    bgMusic.play().then(() => {
      isMusicPlaying = true;
      musicToggle.textContent = "ğŸ”Š Music On";
    }).catch(() => console.log("Music autoplay blocked"));

    video.play().catch((err) => {
      console.log("Video autoplay blocked:", err);
      // Video will still be visible with controls, user can click to play
    });
  });

  // Hearts
  function createHeart() {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.innerText = "â¤ï¸";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.fontSize = Math.random() * 20 + 12 + "px";
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 6000);
  }
  setInterval(createHeart, 400);

  // Confetti explosion
  function createConfetti() {
    const colors = ['â¤ï¸', 'ğŸ’–', 'ğŸ’•', 'ğŸ’—', 'ğŸ’“', 'ğŸ’', 'ğŸŒ¹', 'âœ¨', 'â­', 'ğŸ’«'];
    const confettiCount = 1000;

    for (let i = 0; i < confettiCount; i++) {
      const confetti = document.createElement("div");
      confetti.className = "confetti";
      confetti.innerText = colors[Math.floor(Math.random() * colors.length)];
      confetti.style.fontSize = Math.random() * 20 + 15 + "px";

      // Start from center of screen
      const startX = window.innerWidth / 2;
      const startY = window.innerHeight / 2;
      confetti.style.left = startX + "px";
      confetti.style.top = startY + "px";

      document.body.appendChild(confetti);

      // Random direction and speed
      const angle = Math.random() * Math.PI * 2;
      const velocity = Math.random() * 300 + 200;
      const vx = Math.cos(angle) * velocity;
      const vy = Math.sin(angle) * velocity;

      // Apply spin animation
      confetti.style.animation = `confettiSpin 3s ease-out forwards`;

      // Animate position with physics
      let x = startX;
      let y = startY;
      const gravity = 500; // pixels per second squared
      const startTime = Date.now();
      const duration = 10000; // 3 seconds

      function animate() {
        const elapsed = (Date.now() - startTime) / 1000; // seconds
        if (elapsed < duration / 100) {
          x = startX + vx * elapsed;
          y = startY + vy * elapsed + 0.5 * gravity * elapsed * elapsed;

          confetti.style.left = x + "px";
          confetti.style.top = y + "px";

          requestAnimationFrame(animate);
        } else {
          confetti.remove();
        }
      }

      requestAnimationFrame(animate);
    }
  }
});
</script>

</body>
</html>
